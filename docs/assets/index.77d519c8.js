import{G as R,d as c,h as V,e as q,ag as g,o,c as p,a as i,T as y,M as f,O as r,U as m,F as x,a7 as k,S as z,W as b,R as w,u as A,a0 as D,bf as M,be as j}from"./@vue.fabb9c8d.js";import{s as G,c as P,b as $,d as U,_ as W}from"./index.vite.6d3abbee.js";import{a as H}from"./vue-router.f056de20.js";import{A as J}from"./index.ad4cc64b.js";import"./mavon-Editor.fcac058e.js";/* empty css                     */import{_ as K}from"./index.vue_vue_type_script_setup_true_lang.f8ac1e7e.js";import{E as Q}from"./element-plus.25c24083.js";import"./axios.f2a602b3.js";import"./qs.063c35ea.js";import"./side-channel.e032f824.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.10384396.js";import"./object-inspect.e87864a5.js";import"./js-cookie.711e9524.js";import"./vuex.2b7afe98.js";import"./vuex-persistedstate.fa252374.js";import"./nprogress.0db61dbe.js";import"./@element-plus.f5db7ac0.js";import"./vue-i18n.0b337231.js";import"./@intlify.76cd5065.js";import"./mockjs.0c6c1460.js";import"./lodash-es.759d0354.js";import"./@vueuse.15c220e7.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./dayjs.09808879.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.c4116648.js";import"./vue.da1923c5.js";import"./timeZH.b7c8b73a.js";import"./index.b279f882.js";const N=d=>(M("data-v-3aad1985"),d=d(),j(),d),X={class:"tag-list"},Y={class:"tag-list-box"},Z={style:{display:"flex",gap:"1rem"}},tt=N(()=>i("span",{style:{"font-weight":"800","font-size":"xx-large"}},"#",-1)),et={class:"tag-span"},at=N(()=>i("span",{style:{"font-weight":"800","font-size":"xx-large"}},"#",-1)),ot={key:0,class:"tag-list-article-box"},st=N(()=>i("br",null,null,-1)),rt=R({__name:"index",setup(d){const S=c([]),h=c(parseInt(String(localStorage.getItem("currTagId")))),n=c(!1),v=c(),B=c(!1),u=c("Tags"),_=H();V(()=>{C()}),q(()=>_.currentRoute.value.query,async()=>{_.currentRoute.value.path.includes("tags")&&await C()});const T=t=>{h.value=t,localStorage.setItem("currTagId",String(t))},C=async()=>{let t=_.currentRoute.value.query;t.id&&T(Number(t.id)),isNaN(h.value)||!Object.hasOwnProperty.call(t,"tagName")?(await _.replace({path:"/tags"}),u.value="Tags",await G.dispatch("tagStore/getArticleTagList").then(e=>{S.value=e,B.value=!0}),n.value=!0):(u.value=E(String(t.tagName)),await L(h.value))},L=async t=>{P(),await $.articleApi.getArticleListByTags({tag:t}).then(e=>{var s;const{data:l}=e.data;v.value=l,Q.success(u.value+"\uFF1A"+((s=v.value)==null?void 0:s.length)+"\u6761")},e=>{throw new Error("\u83B7\u53D6"+u.value+"\u6807\u7B7E\u6587\u7AE0\u51FA\u9519!"+e)}).finally(()=>{U(),n.value=!1})},E=t=>{let e=t;if(t.indexOf(" ")!=-1){e=[];let l=t.split("");for(;l.length!==0;){let s=l.shift();s.indexOf(" ")!=-1?e.push("+"):e.push(s)}e=e.join("")}return e};return(t,e)=>{const l=g("el-skeleton-item"),s=g("router-link"),F=g("el-tag"),O=g("el-skeleton");return o(),p("div",X,[i("span",null,y(u.value),1),n.value?(o(),f(b,{key:0,name:"floatA"},{default:r(()=>[i("div",Y,[m(O,{animated:"",loading:!n.value},{template:r(()=>[i("div",Z,[(o(),p(x,null,k(5,a=>m(l,{variant:"button",key:a})),64)),tt])]),default:r(()=>[(o(!0),p(x,null,k(S.value,a=>(o(),f(F,{effect:"dark",type:"info",size:"large",key:a.id},{default:r(()=>[m(s,{class:"tag-a",to:"/tags?tagName="+a.tagName,onClick:I=>T(a.id)},{default:r(()=>[z(y(a.tagName),1)]),_:2},1032,["to","onClick"]),i("span",et,y(a.articleCount),1)]),_:2},1024))),128)),at]),_:1},8,["loading"])])]),_:1})):w("",!0),m(D,{name:"floatB"},{default:r(()=>[n.value?w("",!0):(o(),p("div",ot,[(o(!0),p(x,null,k(v.value,(a,I)=>(o(),f(A(J),{key:I,data:a,type:"1",h:"25rem"},null,8,["data"]))),128))]))]),_:1}),st,n.value?(o(),f(b,{key:1,name:"floatC"},{default:r(()=>[m(A(K),{type:2})]),_:1})):w("",!0)])}}});const Ut=W(rt,[["__scopeId","data-v-3aad1985"]]);export{Ut as default};
