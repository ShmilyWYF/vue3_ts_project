import{m as y}from"./mavon-Editor.fcac058e.js";/* empty css                     */import{S,b as x,_}from"./index.vite.6d3abbee.js";import{G as w,_ as E,Z as F,e as V,d as c,n as M,Y as B,ag as C,o as A,M as I,a9 as T,u as n,O as u,U as m,J as U}from"./@vue.fabb9c8d.js";const D=w({__name:"index",props:{editMode:{type:Boolean,default:!1},isExitBtn:{type:Boolean,default:!0},modelValue:{default:""}},emits:["markTocEvnt","saveCache","fullScreen","unMarkbefor","exitEvnt","update:modelValue"],setup(f,{emit:r}){const p=f,{editMode:a,modelValue:i}=E(p),s=F({content:i.value});V(()=>i.value,e=>{s.content=e});const d=c({}),v=c("code-github");M(()=>{document.documentElement.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const e=document.querySelector(".v-show-content");let t=/^H[1-4]$/;for(let o=0;o<e.children.length;o++)t.test(e.children[o].tagName)&&(e.children[o].id=String(o));r("markTocEvnt",".v-show-content")},1500)});const g=e=>{r("saveCache",e)},h=e=>{r("fullScreen",e)},b=(e,t)=>{let o=new FormData;o.append("image",t),x.imgApi.uploadImg(o).then(l=>{const{data:k}=l.data;d.value.$img2Url(e,k)})};return B(()=>{r("unMarkbefor",s.content)}),(e,t)=>{const o=C("el-button");return A(),I(n(y.exports.mavonEditor),{ref_key:"markdownRef",ref:d,modelValue:s.content,"onUpdate:modelValue":t[1]||(t[1]=l=>s.content=l),codeStyle:v.value,defaultOpen:n(a)?"edit":"preview",editable:n(a),html:!0,ishljs:!0,navigation:n(a),style:U({"--show-content-bg":n(a)?"transparent":""}),subfield:!1,toolbarsFlag:n(a),class:"mark",onFullScreen:h,onImgAdd:b,onSave:g,onNavigationToggle:t[2]||(t[2]=l=>console.log("\u8F93\u51FA",l))},T({_:2},[e.isExitBtn&&n(a)?{name:"left-toolbar-after",fn:u(()=>[m(o,{type:"primary","aria-hidden":"true",color:"op-icon fa",title:"\u9000\u51FA\u7F16\u8F91",onClick:t[0]||(t[0]=l=>r("exitEvnt")),style:{padding:".3rem",margin:"0",height:"inherit",border:"none"}},{default:u(()=>[m(S,{name:"exit",color:"#c62459",size:"1.15"})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","codeStyle","defaultOpen","editable","navigation","style","toolbarsFlag"])}}}),z=_(D,[["__scopeId","data-v-1b01d90c"]]);export{z as M};
