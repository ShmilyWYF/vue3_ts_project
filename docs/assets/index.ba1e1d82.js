import"./vue.8f0363a6.js";import{b as F,_ as k}from"./index.vite.f0e544cd.js";import{S as w}from"./index.1b779e5b.js";import"./mavon-Editor.a6b8cb83.js";/* empty css                     */import{a as n}from"./element-plus.496f9954.js";import{G as U,d,h as N,y as G,ag as i,o as R,c as j,U as o,O as u,a as m,S as g,T as h,u as q,bf as z,be as L}from"./@vue.164e6201.js";/* empty css                                                              */import"./call-bind.10384396.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./vue-router.868db7b0.js";import"./axios.f2a602b3.js";import"./qs.b7100b69.js";import"./side-channel.e4d943d6.js";import"./object-inspect.c9d9bc85.js";import"./js-cookie.711e9524.js";import"./vuex.61a64a92.js";import"./vuex-persistedstate.fa252374.js";import"./nprogress.0db61dbe.js";import"./@element-plus.61ae371c.js";import"./vue-i18n.7f600a88.js";import"./@intlify.3326f550.js";import"./mockjs.feb59d68.js";import"./lodash-es.759d0354.js";import"./@vueuse.a50a866a.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./dayjs.09808879.js";import"./async-validator.267d9719.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.c4116648.js";const D=_=>(z("data-v-541be5c3"),_=_(),L(),_),$={class:"about-box"},O=D(()=>m("span",null,"\u5EF6\u8FDF\u53D1\u9001:",-1)),H=D(()=>m("span",null,"\u5355\u4F4D:h",-1)),J={class:"card-ul-box"},K=U({__name:"index",setup(_){const f=d(""),p=d(1),B=d(),r=d(!1),s=d();let E=null;N(()=>{v(),I()});const y=()=>{const t={toEmail:r.value?"null":B.value,subject:"\u8BA2\u9605\u901A\u77E5",content:f.value};r.value?t.ttl=p.value*(3600*1e3):p.value=0,F.mailApi.sendGroupMessage(t).then(({data:{message:e}})=>{n.success(e),p.value!=0&&v()},e=>{n.error(e.message)})},v=async()=>{await F.mailApi.getAllTtlMessage().then(t=>{const{data:e,message:a}=t.data;s.value=e,n.success(a)},t=>{n.error(t.message)})},C=()=>{F.mailApi.removeAllTtlMail().then(t=>{const{message:e}=t.data;n.success(e),v()},t=>{n.error(t.message)})},V=t=>{F.mailApi.removeTtlMailByMail({messageId:t}).then(e=>{const{message:a}=e.data;n.success(a),v()},e=>{n.error(e.message)})},I=()=>{E=setInterval(()=>{var t,e;if(s.value!=null&&((t=s.value)==null?void 0:t.length)!=0){let a=s.value.map(c=>(c.expire=c.expire-1,c));((e=s.value)==null?void 0:e.length)==0&&clearInterval(E),s.value=a}},1e3)};return G(()=>{clearInterval(E)}),(t,e)=>{const a=i("el-input"),c=i("el-checkbox"),A=i("el-tooltip"),b=i("el-button"),T=i("el-popconfirm"),x=i("el-card"),M=i("el-tag");return R(),j("div",$,[o(x,null,{default:u(()=>[o(a,{type:"textarea",autosize:{minRows:10,maxRows:15},placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l)},null,8,["modelValue"]),o(x,{class:"card-input-box"},{header:u(()=>[O,o(c,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),size:"large"},null,8,["modelValue"])]),default:u(()=>[m("div",null,[o(A,{placement:"top",trigger:"hover",content:"\u8BF7\u5148\u52FE\u9009\u9009\u62E9",disabled:r.value},{default:u(()=>[o(a,{disabled:!r.value,modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l),type:"number",placeholder:"\u8F93\u5165\u5EF6\u8FDF\u65F6\u95F4"},null,8,["disabled","modelValue"])]),_:1},8,["disabled"]),H]),m("ul",J,[m("li",null,[o(T,{title:"\u786E\u5B9A\u53D1\u9001\u7FA4\u7EC4\u90AE\u4EF6\uFF1F\u8FD9\u5C06\u6240\u6709\u8BA2\u9605\u8005\u90FD\u4F1A\u6536\u5230~",onConfirm:y},{reference:u(()=>[o(b,{type:"primary"},{default:u(()=>[g("\u53D1\u9001\u7FA4\u7EC4\u90AE\u4EF6")]),_:1})]),_:1})]),m("li",null,[o(A,{placement:"top",trigger:"hover",content:"\u53D6\u6D88\u6240\u6709\u672A\u53D1\u9001\u7684\u7FA4\u7EC4\u90AE\u4EF6"},{default:u(()=>[o(b,{type:"primary",onClick:C},{default:u(()=>[g("\u53D6\u6D88\u6240\u6709\u5B9A\u65F6\u90AE\u4EF6")]),_:1})]),_:1})])])]),_:1})]),_:1}),o(q(w),{icon:"moon",title:"\u5EF6\u8FDF\u6D88\u606F\u5217\u8868",data:s.value,"ul-display":"flex"},{content:u(l=>[o(M,{closable:"",onClose:S=>V(l.item.queue),onChange:e[3]||(e[3]=S=>console.log("\u521B\u5EFA\u65F6"))},{default:u(()=>[g(h(l.item.queue)+"| \u5012\u8BA1\u65F6\uFF1A"+h(l.item.expire)+"s ",1)]),_:2},1032,["onClose"])]),_:1},8,["data"])])}}}),Me=k(K,[["__scopeId","data-v-541be5c3"],["__file","E:/vue3_ts_project/src/views/Dashboard/components/mail/index.vue"]]);export{Me as default};
