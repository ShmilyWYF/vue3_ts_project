import{G as T,ag as j,o as c,M as C,O as u,U as n,P as S,V as y,u as o,a as t,d as m,_ as E,c as b,Z as w,D as R,a9 as B,T as i,a7 as D,F as A}from"./@vue.fabb9c8d.js";import{t as I}from"./timeZH.b7c8b73a.js";import{S as d,_ as M,s as N}from"./index.vite.6d3abbee.js";import{A as V}from"./index.d7ad348b.js";import{M as L}from"./index.1538cc36.js";import{S as F}from"./index.b279f882.js";import"./mavon-Editor.fcac058e.js";/* empty css                     */import{a as O}from"./vue-router.f056de20.js";import{f as U}from"./util.116bab26.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang.f8ac1e7e.js";import{t as H}from"./tocbot.aa4fd562.js";import"./axios.f2a602b3.js";import"./element-plus.25c24083.js";import"./lodash-es.759d0354.js";import"./@vueuse.15c220e7.js";import"./@element-plus.f5db7ac0.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./dayjs.09808879.js";import"./call-bind.10384396.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.c4116648.js";import"./qs.063c35ea.js";import"./side-channel.e032f824.js";import"./object-inspect.e87864a5.js";import"./js-cookie.711e9524.js";import"./vuex.2b7afe98.js";import"./vuex-persistedstate.fa252374.js";import"./nprogress.0db61dbe.js";import"./vue-i18n.0b337231.js";import"./@intlify.76cd5065.js";import"./mockjs.0c6c1460.js";import"./vue.da1923c5.js";const Z=t("div",{id:"toc",class:"js-toc-content"},null,-1),G=T({__name:"index",props:{topDistance:{type:Number,default:50},toRef:{required:!0}},setup(l){return(f,s)=>{const p=j("el-affix");return c(),C(p,{offset:l.topDistance},{default:u(()=>[n(o(F),{"default-class":!1,h:"auto",icon:"moon",title:"\u6587\u7AE0\u76EE\u5F55"},{defulet:u(a=>[Z,S(n(o(Q),{"jump-to-component":l.toRef},null,8,["jump-to-component"]),[[y,a.afterRender]])]),_:1})]),_:1},8,["offset"])}}}),K={id:"sidebar-navigator",class:"sidebar-navigator"},P={class:"back"},Y={class:"top"},z={class:"jumpToComments"},J=T({__name:"index",props:{jumpToComponent:{}},setup(l){const f=l,s=O(),p=m(0),a=m();m(!1);let{jumpToComponent:_}=E(f);const e=()=>{window.scrollTo({top:0,behavior:"smooth"})},k=()=>{s.back()},h=()=>{a.value=_.value.$el,a.value&&(p.value=a.value&&a.value instanceof HTMLElement?a.value.offsetTop+330:0),window.scrollTo({top:p.value,behavior:"smooth"})};return(x,r)=>(c(),b("ul",K,[t("li",P,[t("div",{onClick:k},[n(o(d),{name:"back",color:"inherit",style:{transform:"rotateY(180deg)"}})])]),t("li",Y,[t("div",{onClick:e},[n(o(d),{name:"back-to-top",color:"inherit"})])]),t("li",z,[t("div",{onClick:h},[n(o(d),{name:"quotation-marks",color:"inherit"})])])]))}}),Q=M(J,[["__scopeId","data-v-348f7071"]]),W={class:"sticker"},X={class:"sticker-box"},tt=["src"],et={class:"sticker-statistics"},ot=T({__name:"index",props:["id","mode"],setup(l){const f=l,{id:s,mode:p}=E(f),a=m(!1),_=m(!1),e=w({}),k=r=>r.replace(/<\/?[^>]*>/g,"").replace(/[|]*\n/,"").replace(/&npsp;/gi,""),h=m();R(async()=>{N.dispatch("articleStore/getArticleById",{id:s==null?void 0:s.value}).then(r=>{Object.assign(e,r),a.value=!0})});const x=r=>{_.value=!0,H.init({tocSelector:"#toc",contentSelector:r,headingSelector:"h1, h2, h3, h4, h5",hasInnerContainers:!0,onClick:function(v){v.preventDefault()}})};return(r,v)=>(c(),C(o(V),{gutter:8,"aside-class":"articleContentAside",background:"#00000000","header-class":"articleContentheader","main-class":"articleContentMarkdown"},B({default:u(()=>[(c(),C(o(L),{key:e.id,ref:"markRef",modelValue:e.articleContent,"onUpdate:modelValue":v[0]||(v[0]=g=>e.articleContent=g),onMarkTocEvnt:x},null,8,["modelValue"])),n(o(q),{type:1,id:o(s),ref_key:"commentsRef",ref:h},null,8,["id"])]),aside:u(()=>[S(n(o(G),{"top-distance":25,"to-ref":h.value},null,8,["to-ref"]),[[y,_.value]])]),_:2},[a.value?{name:"header",fn:u(()=>[t("span",null,[t("b",null,[t("span",null,i(e.categoryName),1)]),t("ul",null,[(c(!0),b(A,null,D(e==null?void 0:e.tags,(g,$)=>(c(),b("li",{key:$},[t("em",null,"# "+i(o(U)(g.tagName)),1)]))),128))])]),t("h1",null,i(e.articleTitle),1),t("div",W,[t("div",X,[t("img",{src:e.author.avatar,alt:"\u5934\u50CF"},null,8,tt),t("span",null,[t("strong",null,i(e.author.nickname),1),t("span",null," \u53D1\u5E03\u4E8E "+i(o(I)(e.createTime)),1)])]),t("div",et,[t("span",null,[n(o(d),{name:"moon"}),t("span",null,i(parseInt(String(e.articleContent.length/100))/10)+"K",1)]),t("span",null,[n(o(d),{name:"moon"}),t("span",null,i(Math.round(k(e.articleContent).length/400))+"mins",1)])])])]),key:"0"}:void 0]),1024))}});const Gt=M(ot,[["__scopeId","data-v-7083fd4b"]]);export{Gt as default};
