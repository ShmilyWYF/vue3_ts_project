import"./vue.8f0363a6.js";import{s as R,c as V,b as j,d as q,_ as z}from"./index.vite.f0e544cd.js";import{a as D}from"./vue-router.868db7b0.js";import{A as M}from"./index.fb3b69db.js";import"./mavon-Editor.a6b8cb83.js";/* empty css                     */import{C as G}from"./index.d5341c61.js";import{E as P}from"./element-plus.496f9954.js";import{G as U,d as c,h as W,e as $,ag as g,o,c as p,a as i,T as y,M as f,O as r,U as m,F as x,a7 as k,S as H,W as b,R as w,u as A,a0 as J,bf as K,be as Q}from"./@vue.164e6201.js";import"./call-bind.10384396.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./axios.f2a602b3.js";import"./qs.b7100b69.js";import"./side-channel.e4d943d6.js";import"./object-inspect.c9d9bc85.js";import"./js-cookie.711e9524.js";import"./vuex.61a64a92.js";import"./vuex-persistedstate.fa252374.js";import"./nprogress.0db61dbe.js";import"./@element-plus.61ae371c.js";import"./vue-i18n.7f600a88.js";import"./@intlify.3326f550.js";import"./mockjs.feb59d68.js";import"./lodash-es.759d0354.js";import"./@vueuse.a50a866a.js";import"./@popperjs.36402333.js";import"./@ctrl.b082b0c1.js";import"./dayjs.09808879.js";import"./async-validator.267d9719.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./@floating-ui.c4116648.js";import"./timeZH.b7c8b73a.js";import"./index.1b779e5b.js";const C=d=>(K("data-v-4d69494a"),d=d(),Q(),d),X={class:"tag-list"},Y={class:"tag-list-box"},Z={style:{display:"flex",gap:"1rem"}},tt=C(()=>i("span",{style:{"font-weight":"800","font-size":"xx-large"}},"#",-1)),et={class:"tag-span"},at=C(()=>i("span",{style:{"font-weight":"800","font-size":"xx-large"}},"#",-1)),ot={key:0,class:"tag-list-article-box"},st=C(()=>i("br",null,null,-1)),rt=U({__name:"index",setup(d){const N=c([]),v=c(parseInt(String(localStorage.getItem("currTagId")))),n=c(!1),h=c(),L=c(!1),u=c("Tags"),_=D();W(()=>{S()}),$(()=>_.currentRoute.value.query,async()=>{_.currentRoute.value.path.includes("tags")&&await S()});const T=t=>{v.value=t,localStorage.setItem("currTagId",String(t))},S=async()=>{let t=_.currentRoute.value.query;t.id&&T(Number(t.id)),isNaN(v.value)||!Object.hasOwnProperty.call(t,"tagName")?(await _.replace({path:"/tags"}),u.value="Tags",await R.dispatch("tagStore/getArticleTagList").then(e=>{N.value=e,L.value=!0}),n.value=!0):(u.value=E(String(t.tagName)),await B(v.value))},B=async t=>{V(),await j.articleApi.getArticleListByTags({tag:t}).then(e=>{var s;const{data:l}=e.data;h.value=l,P.success(u.value+"\uFF1A"+((s=h.value)==null?void 0:s.length)+"\u6761")},e=>{throw new Error("\u83B7\u53D6"+u.value+"\u6807\u7B7E\u6587\u7AE0\u51FA\u9519!"+e)}).finally(()=>{q(),n.value=!1})},E=t=>{let e=t;if(t.indexOf(" ")!=-1){e=[];let l=t.split("");for(;l.length!==0;){let s=l.shift();s.indexOf(" ")!=-1?e.push("+"):e.push(s)}e=e.join("")}return e};return(t,e)=>{const l=g("el-skeleton-item"),s=g("router-link"),F=g("el-tag"),O=g("el-skeleton");return o(),p("div",X,[i("span",null,y(u.value),1),n.value?(o(),f(b,{key:0,name:"floatA"},{default:r(()=>[i("div",Y,[m(O,{animated:"",loading:!n.value},{template:r(()=>[i("div",Z,[(o(),p(x,null,k(5,a=>m(l,{variant:"button",key:a})),64)),tt])]),default:r(()=>[(o(!0),p(x,null,k(N.value,a=>(o(),f(F,{effect:"dark",type:"info",size:"large",key:a.id},{default:r(()=>[m(s,{class:"tag-a",to:"/tags?tagName="+a.tagName,onClick:I=>T(a.id)},{default:r(()=>[H(y(a.tagName),1)]),_:2},1032,["to","onClick"]),i("span",et,y(a.articleCount),1)]),_:2},1024))),128)),at]),_:1},8,["loading"])])]),_:1})):w("v-if",!0),m(J,{name:"floatB"},{default:r(()=>[n.value?w("v-if",!0):(o(),p("div",ot,[(o(!0),p(x,null,k(h.value,(a,I)=>(o(),f(A(M),{key:I,data:a,type:"1",h:"25rem"},null,8,["data"]))),128))]))]),_:1}),st,n.value?(o(),f(b,{key:1,name:"floatC"},{default:r(()=>[m(A(G),{type:2})]),_:1})):w("v-if",!0)])}}});const Wt=z(rt,[["__scopeId","data-v-4d69494a"],["__file","E:/vue3_ts_project/src/views/Client/components/TagList/index.vue"]]);export{Wt as default};
