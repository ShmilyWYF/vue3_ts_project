import"./vue.3562d5dc.js";import{m as y}from"./mavon-Editor.8efb2a5b.js";/* empty css                     */import{S,b as _,_ as E}from"./index.vite.5e077c20.js";import{d as x,_ as w,Z as F,f as A,e as u,n as V,Y as M,ah as B,o as C,M as I,a9 as T,u as n,O as c,R as q,U as m,J as N}from"./@vue.34c5d192.js";const R=x({__name:"index",props:{editMode:{type:Boolean,required:!1,default:!1},isExitBtn:{type:Boolean,required:!1,default:!0},modelValue:{type:String,required:!0,default:""}},emits:["markTocEvnt","saveCache","fullScreen","unMarkbefor","exitEvnt","update:modelValue"],setup(f,{emit:l}){const p=f,{editMode:a,modelValue:i}=w(p),s=F({content:i.value});A(()=>i.value,e=>{s.content=e});const d=u({}),v=u("code-github");V(()=>{document.documentElement.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const e=document.querySelector(".v-show-content");let t=/^H[1-4]$/;for(let o=0;o<e.children.length;o++)t.test(e.children[o].tagName)&&(e.children[o].id=String(o));l("markTocEvnt",".v-show-content")},1500)});const g=e=>{l("saveCache",e)},h=e=>{l("fullScreen",e)},b=(e,t)=>{let o=new FormData;o.append("image",t),_.imgApi.uploadImg(o).then(r=>{const{data:k}=r.data;d.value.$img2Url(e,k)})};return M(()=>{l("unMarkbefor",s.content)}),(e,t)=>{const o=B("el-button");return C(),I(n(y.exports.mavonEditor),{ref_key:"markdownRef",ref:d,modelValue:s.content,"onUpdate:modelValue":t[1]||(t[1]=r=>s.content=r),codeStyle:v.value,defaultOpen:n(a)?"edit":"preview",editable:n(a),html:!0,ishljs:!0,navigation:n(a),style:N({"--show-content-bg":n(a)?"transparent":""}),subfield:!1,toolbarsFlag:n(a),class:"mark",onFullScreen:h,onImgAdd:b,onSave:g,onNavigationToggle:t[2]||(t[2]=r=>console.log("\u8F93\u51FA",r))},T({_:2},[e.isExitBtn&&n(a)?{name:"left-toolbar-after",fn:c(()=>[q("\u81EA\u5B9A\u4E49\u9000\u51FA\u6309\u94AE"),m(o,{type:"primary","aria-hidden":"true",color:"op-icon fa",title:"\u9000\u51FA\u7F16\u8F91",onClick:t[0]||(t[0]=r=>l("exitEvnt")),style:{padding:".3rem",margin:"0",height:"inherit",border:"none"}},{default:c(()=>[m(S,{name:"exit",color:"#c62459",size:"1.15"})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","codeStyle","defaultOpen","editable","navigation","style","toolbarsFlag"])}}}),z=E(R,[["__scopeId","data-v-153ee06e"],["__file","E:/vue3_ts_project/src/components/Mark/index.vue"]]);export{z as M};
